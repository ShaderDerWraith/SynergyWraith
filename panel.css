/* ðŸ”¹ OUR SEPARATE WIDGET - UNIQUE CLASSES ðŸ”¹ */
.sw-custom-manager {
    position: fixed !important;
    width: 44px !important;
    height: 44px !important;
    background: rgba(26, 26, 46, 0.95) !important;
    border: 2px solid #00ff00 !important;
    border-radius: 10px !important;
    cursor: move !important;
    box-shadow: 
        0 0 20px rgba(0, 255, 0, 0.8),
        inset 0 0 10px rgba(0, 255, 0, 0.3),
        0 4px 12px rgba(0, 0, 0, 0.5) !important;
    color: white !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: all 0.3s ease !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    z-index: 1000000 !important;
    backdrop-filter: blur(8px) !important;
    animation: swGlow 3s infinite alternate !important;
    top: 70px !important;
    left: 70px !important;
}

@keyframes swGlow {
    0% { box-shadow: 0 0 15px rgba(0, 255, 0, 0.7), inset 0 0 8px rgba(0, 255, 0, 0.3), 0 4px 10px rgba(0, 0, 0, 0.4); }
    100% { box-shadow: 0 0 25px rgba(0, 255, 255, 0.9), inset 0 0 12px rgba(0, 255, 255, 0.4), 0 6px 15px rgba(0, 0, 0, 0.6); }
}

/* Our icon - completely different from game's icon */
.sw-custom-icon {
    width: 30px !important;
    height: 30px !important;
    background: linear-gradient(135deg, #00ff00, #00cc00) !important;
    mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>') !important;
    -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>') !important;
    mask-size: contain !important;
    -webkit-mask-size: contain !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-position: center !important;
    -webkit-mask-position: center !important;
    transition: all 0.3s ease !important;
    filter: drop-shadow(0 0 2px rgba(0, 255, 0, 0.5)) !important;
}

/* Hover effects for OUR widget only */
.sw-custom-manager:hover {
    transform: scale(1.1) rotate(5deg) !important;
    border-color: #00ffff !important;
    box-shadow: 
        0 0 30px rgba(0, 255, 255, 1),
        inset 0 0 15px rgba(0, 255, 255, 0.5),
        0 6px 20px rgba(0, 0, 0, 0.7) !important;
}

.sw-custom-manager:hover .sw-custom-icon {
    background: linear-gradient(135deg, #00ffff, #00cccc) !important;
    transform: rotate(90deg) !important;
    filter: drop-shadow(0 0 4px rgba(0, 255, 255, 0.8)) !important;
}

/* Active/dragging state for OUR widget */
.sw-custom-manager.sw-dragging {
    cursor: grabbing !important;
    transform: scale(1.15) !important;
    border-color: #ffff00 !important;
    box-shadow: 
        0 0 35px rgba(255, 255, 0, 1),
        inset 0 0 18px rgba(255, 255, 0, 0.6),
        0 8px 25px rgba(0, 0, 0, 0.8) !important;
    z-index: 1000001 !important;
}

.sw-custom-manager.sw-dragging .sw-custom-icon {
    background: linear-gradient(135deg, #ffff00, #ffcc00) !important;
    transform: scale(1.2) !important;
}

/* ðŸ”¹ COLLISION DETECTION - OUR WIDGET ONLY ðŸ”¹ */
.sw-custom-manager.sw-collision {
    border-color: #ff5555 !important;
    box-shadow: 
        0 0 25px rgba(255, 85, 85, 0.9),
        inset 0 0 15px rgba(255, 85, 85, 0.5),
        0 6px 20px rgba(0, 0, 0, 0.7) !important;
    animation: swCollisionWarning 0.6s infinite alternate !important;
}

@keyframes swCollisionWarning {
    0% { 
        border-color: #ff5555 !important;
        box-shadow: 0 0 20px rgba(255, 85, 85, 0.9), inset 0 0 12px rgba(255, 85, 85, 0.4), 0 4px 15px rgba(0, 0, 0, 0.6) !important;
    }
    100% { 
        border-color: #ff8888 !important;
        box-shadow: 0 0 30px rgba(255, 120, 120, 1.2), inset 0 0 18px rgba(255, 120, 120, 0.7), 0 8px 20px rgba(0, 0, 0, 0.8) !important;
    }
}

.sw-custom-manager.sw-safe {
    border-color: #00ffaa !important;
    box-shadow: 
        0 0 25px rgba(0, 255, 170, 0.8),
        inset 0 0 12px rgba(0, 255, 170, 0.4),
        0 6px 20px rgba(0, 0, 0, 0.7) !important;
    animation: swSafePosition 1.5s ease !important;
}

@keyframes swSafePosition {
    0% { 
        transform: scale(1.2) !important;
        border-color: #00ffaa !important;
        box-shadow: 0 0 30px rgba(0, 255, 170, 1), inset 0 0 15px rgba(0, 255, 170, 0.6), 0 8px 25px rgba(0, 0, 0, 0.8) !important;
    }
    100% { 
        transform: scale(1) !important;
        border-color: #00ff00 !important;
        box-shadow: 0 0 20px rgba(0, 255, 0, 0.8), inset 0 0 10px rgba(0, 255, 0, 0.3), 0 4px 12px rgba(0, 0, 0, 0.5) !important;
    }
}

/* Collision warning indicator */
.sw-custom-manager.sw-collision::before {
    content: 'âš ' !important;
    position: absolute !important;
    top: -10px !important;
    right: -10px !important;
    background: #ff5555 !important;
    color: white !important;
    width: 20px !important;
    height: 20px !important;
    border-radius: 50% !important;
    font-size: 12px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    animation: swWarningBounce 0.8s infinite alternate !important;
    z-index: 1000002 !important;
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.8) !important;
}

@keyframes swWarningBounce {
    0% { transform: scale(1); }
    100% { transform: scale(1.3); }
}

/* ðŸ”¹ OUR PANEL - COMPLETELY SEPARATE ðŸ”¹ */
#sw-custom-panel {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 400px !important;
    max-width: 90vw !important;
    background: linear-gradient(135deg, rgba(10, 20, 40, 0.98), rgba(5, 15, 30, 0.98)) !important;
    border: 3px solid #00ff00 !important;
    border-radius: 15px !important;
    color: #ffffff !important;
    z-index: 1000000 !important;
    box-shadow: 
        0 0 50px rgba(0, 255, 0, 0.6),
        0 15px 40px rgba(0, 0, 0, 0.8),
        inset 0 0 20px rgba(0, 255, 0, 0.2) !important;
    backdrop-filter: blur(20px) saturate(200%) !important;
    display: none !important;
    font-family: 'Segoe UI', system-ui, sans-serif !important;
    overflow: hidden !important;
    animation: swPanelAppear 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
}

@keyframes swPanelAppear {
    from {
        opacity: 0 !important;
        transform: translate(-50%, -50%) scale(0.7) !important;
    }
    to {
        opacity: 1 !important;
        transform: translate(-50%, -50%) scale(1) !important;
    }
}

/* Panel Header */
.sw-panel-header {
    background: linear-gradient(to right, rgba(0, 40, 80, 0.9), rgba(0, 30, 60, 0.9)) !important;
    padding: 18px !important;
    text-align: center !important;
    border-bottom: 2px solid rgba(0, 255, 0, 0.5) !important;
    cursor: move !important;
    font-size: 18px !important;
    font-weight: 700 !important;
    letter-spacing: 1.5px !important;
    text-transform: uppercase !important;
    color: #00ff00 !important;
    text-shadow: 0 0 10px rgba(0, 255, 0, 0.5) !important;
    position: relative !important;
}

.sw-panel-header::after {
    content: '' !important;
    position: absolute !important;
    bottom: -2px !important;
    left: 0 !important;
    width: 100% !important;
    height: 2px !important;
    background: linear-gradient(90deg, 
        transparent 0%, 
        #00ff00 20%, 
        #00ff00 80%, 
        transparent 100%) !important;
}

/* Panel Content */
.sw-tab-content {
    padding: 20px !important;
    max-height: 70vh !important;
    overflow-y: auto !important;
    background: rgba(5, 15, 30, 0.7) !important;
}

/* Custom scrollbar */
.sw-tab-content::-webkit-scrollbar {
    width: 8px !important;
}

.sw-tab-content::-webkit-scrollbar-track {
    background: rgba(0, 30, 60, 0.4) !important;
    border-radius: 4px !important;
}

.sw-tab-content::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #00ff00, #00cc00) !important;
    border-radius: 4px !important;
    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3) !important;
}

.sw-tab-content::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #00ffff, #00cccc) !important;
}

/* Tabs */
.sw-tab-container {
    display: flex !important;
    background: linear-gradient(to bottom, 
        rgba(0, 40, 80, 0.9), 
        rgba(0, 30, 60, 0.9)) !important;
    border-bottom: 2px solid rgba(0, 255, 0, 0.3) !important;
    padding: 0 10px !important;
    backdrop-filter: blur(15px) !important;
}

.sw-tablink {
    flex: 1 !important;
    background: none !important;
    border: none !important;
    outline: none !important;
    cursor: pointer !important;
    padding: 15px 5px !important;
    margin: 0 5px !important;
    transition: all 0.3s ease !important;
    color: #88ccaa !important;
    font-weight: 600 !important;
    font-size: 13px !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    border-bottom: 3px solid transparent !important;
    position: relative !important;
}

.sw-tablink.active {
    color: #00ff00 !important;
    border-bottom: 3px solid #00ff00 !important;
    background: rgba(0, 255, 0, 0.15) !important;
    text-shadow: 0 0 8px rgba(0, 255, 0, 0.5) !important;
}

.sw-tablink:hover:not(.active) {
    color: #aaffcc !important;
    border-bottom: 3px solid #88ccaa !important;
    background: rgba(0, 255, 0, 0.08) !important;
}

/* Addons in panel */
.sw-addon {
    background: rgba(10, 30, 50, 0.8) !important;
    border: 1px solid rgba(0, 255, 0, 0.3) !important;
    border-radius: 8px !important;
    padding: 15px !important;
    margin-bottom: 12px !important;
    transition: all 0.3s ease !important;
}

.sw-addon:hover {
    background: rgba(15, 40, 65, 0.9) !important;
    border-color: rgba(0, 255, 0, 0.6) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
}

.sw-addon-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    margin-bottom: 10px !important;
    cursor: pointer !important;
}

.sw-addon-title {
    font-weight: 700 !important;
    color: #aaffcc !important;
    font-size: 14px !important;
    text-shadow: 0 0 5px rgba(0, 255, 0, 0.3) !important;
}

/* Switch */
.sw-switch {
    position: relative !important;
    display: inline-block !important;
    width: 40px !important;
    height: 20px !important;
}

.sw-switch input {
    opacity: 0 !important;
    width: 0 !important;
    height: 0 !important;
}

.sw-slider {
    position: absolute !important;
    cursor: pointer !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background-color: rgba(0, 60, 120, 0.8) !important;
    transition: .4s !important;
    border-radius: 20px !important;
    border: 1px solid rgba(0, 255, 0, 0.3) !important;
}

.sw-slider:before {
    position: absolute !important;
    content: "" !important;
    height: 16px !important;
    width: 16px !important;
    left: 2px !important;
    bottom: 1px !important;
    background-color: #88ccaa !important;
    transition: .4s !important;
    border-radius: 50% !important;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3) !important;
}

input:checked + .sw-slider {
    background-color: #00ff00 !important;
    border-color: #00ff00 !important;
}

input:checked + .sw-slider:before {
    transform: translateX(20px) !important;
    background-color: white !important;
    box-shadow: 0 0 8px rgba(0, 255, 0, 0.8) !important;
}

/* ðŸ”¹ RESPONSIVE DESIGN ðŸ”¹ */
@media (max-width: 768px) {
    .sw-custom-manager {
        width: 40px !important;
        height: 40px !important;
        top: 50px !important;
        left: 50px !important;
    }
    
    .sw-custom-icon {
        width: 26px !important;
        height: 26px !important;
    }
    
    #sw-custom-panel {
        width: 350px !important;
    }
    
    .sw-tablink {
        padding: 12px 3px !important;
        font-size: 12px !important;
    }
}

@media (max-width: 480px) {
    .sw-custom-manager {
        width: 36px !important;
        height: 36px !important;
        top: 30px !important;
        left: 30px !important;
    }
    
    .sw-custom-icon {
        width: 24px !important;
        height: 24px !important;
    }
    
    #sw-custom-panel {
        width: 320px !important;
        max-width: 95vw !important;
    }
    
    .sw-panel-header {
        padding: 15px !important;
        font-size: 16px !important;
    }
}

/* ðŸ”¹ HIGH CONTRAST MODE SUPPORT ðŸ”¹ */
@media (prefers-contrast: high) {
    .sw-custom-manager {
        border-width: 3px !important;
        box-shadow: 0 0 0 2px black, 0 0 20px rgba(0, 255, 0, 1) !important;
    }
    
    #sw-custom-panel {
        border-width: 4px !important;
        box-shadow: 0 0 0 3px black, 0 0 40px rgba(0, 255, 0, 0.8) !important;
    }
}

/* ðŸ”¹ DARK MODE SUPPORT ðŸ”¹ */
@media (prefers-color-scheme: dark) {
    .sw-custom-manager {
        background: rgba(5, 10, 20, 0.95) !important;
    }
    
    #sw-custom-panel {
        background: linear-gradient(135deg, rgba(5, 10, 20, 0.98), rgba(2, 5, 10, 0.98)) !important;
    }
}

/* ðŸ”¹ ANIMATION FOR AUTO-POSITIONING ðŸ”¹ */
@keyframes swAutoPosition {
    0% { 
        opacity: 0.5;
        transform: scale(0.9);
    }
    50% { 
        opacity: 1;
        transform: scale(1.1);
    }
    100% { 
        opacity: 1;
        transform: scale(1);
    }
}

.sw-custom-manager.sw-auto-positioned {
    animation: swAutoPosition 1s ease !important;
}

/* Ensure our widget is always on top of game UI */
.sw-custom-manager {
    z-index: 1000000 !important;
}

/* Game's original widget should be below ours */
.widget-ADDON_MANAGER {
    z-index: auto !important;
}
